const cssSelectors={keyInput:"#apiKey",keyToggle:"#passwordToggle",save:"#optionsSave",saveMessage:".options-save-message"},cssClasses={keyVisible:"fa-eye",messageActive:"options-save-message--active"},apiKeyInput=document.querySelector(cssSelectors.keyInput),apiKeyToggle=document.querySelector(cssSelectors.keyToggle),saveTrigger=document.querySelector(cssSelectors.save),saveMessage=document.querySelector(cssSelectors.saveMessage);function loadOptions(){chrome.storage.local.get("key").then((({key:e})=>{apiKeyInput&&(apiKeyInput.value=e)}))}function saveOptions(){apiKeyInput?.value;apiKeyInput&&apiKeyInput.value&&chrome.storage.local.set({key:apiKeyInput.value}).then((()=>showSaveMessage()))}function showSaveMessage(){saveMessage?.classList.add(cssClasses.messageActive)}function hideSaveMessage(){saveMessage?.classList.remove(cssClasses.messageActive)}function toggleApiKeyVisibility(){const e="password"===apiKeyInput?.getAttribute("type")?"text":"password";apiKeyInput?.setAttribute("type",e),apiKeyToggle?.classList.toggle(cssClasses.keyVisible)}loadOptions(),apiKeyToggle?.addEventListener("click",(()=>toggleApiKeyVisibility())),saveTrigger?.addEventListener("click",(e=>{e.preventDefault(),saveOptions()})),apiKeyInput?.addEventListener("focus",(()=>hideSaveMessage()));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJtYXBwaW5ncyI6IkFBQUEsTUFBTUEsYUFBaUQsQ0FDbkRDLFNBQVUsVUFDVkMsVUFBVyxrQkFDWEMsS0FBTSxlQUNOQyxZQUFhLHlCQUVYQyxXQUErQyxDQUNqREMsV0FBWSxTQUNaQyxjQUFlLGdDQUdiQyxZQUFjQyxTQUFTQyxjQUFjVixhQUFhQyxVQUNsRFUsYUFBZUYsU0FBU0MsY0FBY1YsYUFBYUUsV0FDbkRVLFlBQWNILFNBQVNDLGNBQWNWLGFBQWFHLE1BQ2xEQyxZQUFjSyxTQUFTQyxjQUFjVixhQUFhSSxhQVl4RCxTQUFTUyxjQUNMQyxPQUFPQyxRQUFRQyxNQUFNQyxJQUFJLE9BQU9DLE1BQUssRUFBR0MsVUFDaENYLGNBQ0FBLFlBQVlZLE1BQVFELEVBQUcsRyxDQUtuQyxTQUFTRSxjQUM4QmIsYUFBYVksTUFDNUNaLGFBQWVBLFlBQVlZLE9BQzNCTixPQUFPQyxRQUFRQyxNQUFNTSxJQUFJLENBQUVILElBQU9YLFlBQVlZLFFBQ3pDRixNQUFLLElBQU1LLG1CLENBSXhCLFNBQVNBLGtCQUNMbkIsYUFBYW9CLFVBQVVDLElBQUlwQixXQUFXRSxjLENBRTFDLFNBQVNtQixrQkFDTHRCLGFBQWFvQixVQUFVRyxPQUFPdEIsV0FBV0UsYyxDQUc3QyxTQUFTcUIseUJBQ0wsTUFBTUMsRUFBNkMsYUFBdENyQixhQUFhc0IsYUFBYSxRQUF5QixPQUFTLFdBQ3pFdEIsYUFBYXVCLGFBQWEsT0FBUUYsR0FDbENsQixjQUFjYSxVQUFVUSxPQUFPM0IsV0FBV0MsVyxDQXBDOUNPLGNBRUFGLGNBQWNzQixpQkFBaUIsU0FBUyxJQUFNTCwyQkFDOUNoQixhQUFhcUIsaUJBQWlCLFNBQVVDLElBQ3BDQSxFQUFNQyxpQkFDTmQsYUFBYSxJQUdqQmIsYUFBYXlCLGlCQUFpQixTQUFTLElBQU1QIiwic291cmNlcyI6WyJzcmMvb3B0aW9ucy50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjc3NTZWxlY3RvcnM6IFJlYWRvbmx5PFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0ge1xuICAgIGtleUlucHV0OiAnI2FwaUtleScsXG4gICAga2V5VG9nZ2xlOiAnI3Bhc3N3b3JkVG9nZ2xlJyxcbiAgICBzYXZlOiAnI29wdGlvbnNTYXZlJyxcbiAgICBzYXZlTWVzc2FnZTogJy5vcHRpb25zLXNhdmUtbWVzc2FnZSdcbn1cbmNvbnN0IGNzc0NsYXNzZXM6IFJlYWRvbmx5PFJlY29yZDxzdHJpbmcsIHN0cmluZz4+ID0ge1xuICAgIGtleVZpc2libGU6ICdmYS1leWUnLFxuICAgIG1lc3NhZ2VBY3RpdmU6ICdvcHRpb25zLXNhdmUtbWVzc2FnZS0tYWN0aXZlJ1xufVxuXG5jb25zdCBhcGlLZXlJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3NzU2VsZWN0b3JzLmtleUlucHV0KSBhcyBIVE1MSW5wdXRFbGVtZW50IHwgbnVsbFxuY29uc3QgYXBpS2V5VG9nZ2xlID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjc3NTZWxlY3RvcnMua2V5VG9nZ2xlKSBhcyBIVE1MRWxlbWVudCB8IG51bGxcbmNvbnN0IHNhdmVUcmlnZ2VyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjc3NTZWxlY3RvcnMuc2F2ZSkgYXMgSFRNTEVsZW1lbnQgfCBudWxsXG5jb25zdCBzYXZlTWVzc2FnZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoY3NzU2VsZWN0b3JzLnNhdmVNZXNzYWdlKSBhcyBIVE1MRWxlbWVudCB8IG51bGxcblxubG9hZE9wdGlvbnMoKVxuXG5hcGlLZXlUb2dnbGU/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdG9nZ2xlQXBpS2V5VmlzaWJpbGl0eSgpKVxuc2F2ZVRyaWdnZXI/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgIHNhdmVPcHRpb25zKClcbn0pXG5cbmFwaUtleUlucHV0Py5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsICgpID0+IGhpZGVTYXZlTWVzc2FnZSgpKVxuXG5mdW5jdGlvbiBsb2FkT3B0aW9ucygpIHtcbiAgICBjaHJvbWUuc3RvcmFnZS5sb2NhbC5nZXQoJ2tleScpLnRoZW4oKHsga2V5IH0pID0+IHtcbiAgICAgICAgaWYgKGFwaUtleUlucHV0KSB7XG4gICAgICAgICAgICBhcGlLZXlJbnB1dC52YWx1ZSA9IGtleVxuICAgICAgICB9XG4gICAgfSlcbn1cblxuZnVuY3Rpb24gc2F2ZU9wdGlvbnMoKSB7XG4gICAgY29uc3QgYXBpS2V5OiBzdHJpbmcgfCB1bmRlZmluZWQgPSBhcGlLZXlJbnB1dD8udmFsdWVcbiAgICBpZiAoYXBpS2V5SW5wdXQgJiYgYXBpS2V5SW5wdXQudmFsdWUpIHtcbiAgICAgICAgY2hyb21lLnN0b3JhZ2UubG9jYWwuc2V0KHsgJ2tleSc6IGFwaUtleUlucHV0LnZhbHVlIH0pXG4gICAgICAgICAgICAudGhlbigoKSA9PiBzaG93U2F2ZU1lc3NhZ2UoKSlcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNob3dTYXZlTWVzc2FnZSgpIHtcbiAgICBzYXZlTWVzc2FnZT8uY2xhc3NMaXN0LmFkZChjc3NDbGFzc2VzLm1lc3NhZ2VBY3RpdmUpXG59XG5mdW5jdGlvbiBoaWRlU2F2ZU1lc3NhZ2UoKSB7XG4gICAgc2F2ZU1lc3NhZ2U/LmNsYXNzTGlzdC5yZW1vdmUoY3NzQ2xhc3Nlcy5tZXNzYWdlQWN0aXZlKVxufVxuXG5mdW5jdGlvbiB0b2dnbGVBcGlLZXlWaXNpYmlsaXR5KCkgIHtcbiAgICBjb25zdCB0eXBlID0gYXBpS2V5SW5wdXQ/LmdldEF0dHJpYnV0ZSgndHlwZScpID09PSAncGFzc3dvcmQnID8gJ3RleHQnIDogJ3Bhc3N3b3JkJ1xuICAgIGFwaUtleUlucHV0Py5zZXRBdHRyaWJ1dGUoJ3R5cGUnLCB0eXBlKVxuICAgIGFwaUtleVRvZ2dsZT8uY2xhc3NMaXN0LnRvZ2dsZShjc3NDbGFzc2VzLmtleVZpc2libGUpXG59XG4iXSwibmFtZXMiOlsiY3NzU2VsZWN0b3JzIiwia2V5SW5wdXQiLCJrZXlUb2dnbGUiLCJzYXZlIiwic2F2ZU1lc3NhZ2UiLCJjc3NDbGFzc2VzIiwia2V5VmlzaWJsZSIsIm1lc3NhZ2VBY3RpdmUiLCJhcGlLZXlJbnB1dCIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImFwaUtleVRvZ2dsZSIsInNhdmVUcmlnZ2VyIiwibG9hZE9wdGlvbnMiLCJjaHJvbWUiLCJzdG9yYWdlIiwibG9jYWwiLCJnZXQiLCJ0aGVuIiwia2V5IiwidmFsdWUiLCJzYXZlT3B0aW9ucyIsInNldCIsInNob3dTYXZlTWVzc2FnZSIsImNsYXNzTGlzdCIsImFkZCIsImhpZGVTYXZlTWVzc2FnZSIsInJlbW92ZSIsInRvZ2dsZUFwaUtleVZpc2liaWxpdHkiLCJ0eXBlIiwiZ2V0QXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwidG9nZ2xlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiXSwidmVyc2lvbiI6MywiZmlsZSI6Im9wdGlvbnMuSEFTSF9SRUZfYzhlMzk0MjExMDVhNWE3Zi5qcy5tYXAifQ==
